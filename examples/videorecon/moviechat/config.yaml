# MovieChat Video Reconstruction Experiment Configuration

# Model configuration (matching CHM-Net paper)
model:
  # Continuous Hopfield Network configuration
  chn:
    beta: 1.0  # Temperature parameter (from paper)
    num_iterations: 3  # Number of CCCP iterations (from paper)
    regularization: 0.5  # Lambda parameter (from paper)
    integration_points: 500  # Number of integration points (from paper)

# Data configuration (matching CHM-Net paper)
data:
  dataset: "moviechat"
  split: "test"  # Use test split as per paper
  resolution: 224  # Frame resolution (224x224) from paper
  mask_ratio: 0.5  # Mask lower 50% of frames as per paper

# Experiment configuration
experiment:
  # Memory sizes (L values) to test
  memory_sizes:
    - 512
    - 1024
    - 2048
    - 4096
  
  # Number of basis functions (N values) to test  
  basis_counts:
    - 8
    - 16
    - 32
    - 64
    - 128
    - 256
    - 1024
    - 2048
  
  # Basis functions to compare
  basis_types:
    - "rectangular"  # Main basis from paper
    - "gaussian"
    - "fourier"
    - "polynomial"
  
  num_videos: 100  # Number of videos to test
  results_dir: "outputs/results"  # Where to save results (gitignored)

# Directories (all under outputs/ which is gitignored)
checkpoint_dir: outputs/checkpoints/${data.dataset}
result_dir: outputs/results/${data.dataset}
visualization_dir: outputs/visualizations/${data.dataset}

# Misc
seed: 42
device: "cuda"  # or "cpu"

# Hydra configuration
hydra:
  run:
    dir: outputs/${data.dataset}/${now:%Y-%m-%d}/${now:%H-%M-%S}
  sweep:
    dir: outputs/multirun/${data.dataset}/${now:%Y-%m-%d}/${now:%H-%M-%S}
    subdir: ${hydra.job.num}
  job:
    chdir: false  # Don't change directory